
    <!DOCTYPE html>
    <html lang="zh-CN">

    <head>
        <meta charset="utf-8" />
        <title>
            关于MySQL的常见问题一 | 阁下星辰不可及の家
        </title>
        <meta name="author" content="阁下星辰不可及" />
        <meta name="description" content="" />
        <meta name="keywords" content="" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
        <link rel="icon" href="/images/1.jpg" />
        <link rel="preconnect" href="https://s4.zstatic.net" />
<script src="https://s4.zstatic.net/ajax/libs/vue/3.3.7/vue.global.prod.min.js"></script>
<link rel="stylesheet" href="https://s4.zstatic.net/ajax/libs/font-awesome/6.4.2/css/all.min.css" />
<link rel="preconnect" href="https://fonts.googleapis.cn" />
<link rel="preconnect" href="https://fonts.gstatic.cn" crossorigin />
<link
    rel="stylesheet"
    href="https://fonts.googleapis.cn/css2?family=Fira+Code:wght@400;500;600;700&family=Lexend:wght@400;500;600;700;800;900&family=Noto+Sans+SC:wght@400;500;600;700;800;900&display=swap"
/>
<script> const mixins = {}; </script>

<script src="https://polyfill.alicdn.com/v3/polyfill.min.js?features=default"></script>


<script src="https://s4.zstatic.net/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
<script src="https://s4.zstatic.net/ajax/libs/highlightjs-line-numbers.js/2.8.0/highlightjs-line-numbers.min.js"></script>
<link
    rel="stylesheet"
    href="https://s4.zstatic.net/ajax/libs/highlight.js/11.9.0/styles/github.min.css"
/>
<script src="/js/lib/highlight.js"></script>



<script src="/js/lib/preview.js"></script>






<script src="https://s4.zstatic.net/ajax/libs/waline/2.15.8/waline.min.js"></script>
<link rel="stylesheet" href="https://s4.zstatic.net/ajax/libs/waline/2.15.8/waline.min.css" />
<link rel="stylesheet" href="https://s4.zstatic.net/ajax/libs/waline/2.15.8/waline-meta.min.css" />




<link rel="stylesheet" href="/css/main.css" />

    <meta name="generator" content="Hexo 7.3.0"></head>

    <body>
        <div id="layout">
            <transition name="fade">
                <div id="loading" v-show="loading">
                    <div id="loading-circle">
                        <h2>LOADING</h2>
                        <p>加载过慢请开启缓存 浏览器默认开启</p>
                        <img src="/images/loading.gif" />
                    </div>
                </div>
            </transition>
            <div id="menu" :class="{ hidden: hiddenMenu, 'menu-color': menuColor}">
    <nav id="desktop-menu">
        <a class="title" href="/">
            <span>阁下星辰不可及の家</span>
        </a>
        
        <a href="/">
            <i class="fa-solid fa-house fa-fw"></i>
            <span>&ensp;Home</span>
        </a>
        
        <a href="/about">
            <i class="fa-solid fa-id-card fa-fw"></i>
            <span>&ensp;About</span>
        </a>
        
        <a href="/archives">
            <i class="fa-solid fa-box-archive fa-fw"></i>
            <span>&ensp;Archives</span>
        </a>
        
        <a href="/categories">
            <i class="fa-solid fa-bookmark fa-fw"></i>
            <span>&ensp;Categories</span>
        </a>
        
        <a href="/tags">
            <i class="fa-solid fa-tags fa-fw"></i>
            <span>&ensp;Tags</span>
        </a>
        
    </nav>
    <nav id="mobile-menu">
        <div class="title" @click="showMenuItems = !showMenuItems">
            <i class="fa-solid fa-bars fa-fw"></i>
            <span>&emsp;阁下星辰不可及の家</span>
        </div>
        <transition name="slide">
            <div class="items" v-show="showMenuItems">
                
                <a href="/">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-house fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">Home</div>
                    </div>
                </a>
                
                <a href="/about">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-id-card fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">About</div>
                    </div>
                </a>
                
                <a href="/archives">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-box-archive fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">Archives</div>
                    </div>
                </a>
                
                <a href="/categories">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-bookmark fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">Categories</div>
                    </div>
                </a>
                
                <a href="/tags">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-tags fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">Tags</div>
                    </div>
                </a>
                
            </div>
        </transition>
    </nav>
</div>
<transition name="fade">
    <div id="menu-curtain" @click="showMenuItems = !showMenuItems" v-show="showMenuItems"></div>
</transition>

                <div id="main" :class="loading ? 'into-enter-from': 'into-enter-active'">
                    <div class="article">
    <div>
        <h1>关于MySQL的常见问题一</h1>
    </div>
    <div class="info">
        <span class="date">
            <span class="icon">
                <i class="fa-solid fa-calendar fa-fw"></i>
            </span>
            2024/6/28
        </span>
        
        <span class="category">
            <a href="/categories/%E7%BB%8F%E9%AA%8C/">
                <span class="icon">
                    <i class="fa-solid fa-bookmark fa-fw"></i>
                </span>
                经验
            </a>
        </span>
        
        
        <span class="tags">
            <span class="icon">
                <i class="fa-solid fa-tags fa-fw"></i>
            </span>
            
            
            <span class="tag">
                
                <a href="/tags/MySQL/" style="color: #03a9f4">
                    MySQL
                </a>
            </span>
            
            <span class="tag">
                
                <a href="/tags/%E9%9D%A2%E8%AF%95/" style="color: #00bcd4">
                    面试
                </a>
            </span>
            
        </span>
        
    </div>
    
    <div class="content" v-pre>
        <h2 id="问题合集"><a href="#问题合集" class="headerlink" title="问题合集"></a>问题合集</h2><span id="more"></span>

<ul>
<li><h2 id="⼀条-SQL-语句在数据库框架中的执行流程？"><a href="#⼀条-SQL-语句在数据库框架中的执行流程？" class="headerlink" title="⼀条 SQL 语句在数据库框架中的执行流程？"></a><strong>⼀条 SQL 语句在数据库框架中的执行流程？</strong></h2><ol>
<li>应⽤程序把查询 SQL 语句发送给服务器端执⾏；</li>
<li>查询缓存，如果查询缓存是打开的，服务器在接收到查询请求后，并不会直接去数据库查询，⽽是在数据库的<br> 查询缓存中找是否有相对应的查询数据，如果存在，则直接返回给客户端。只有缓存不存在时，才会进⾏下⾯<br> 的操作；</li>
<li>查询优化处理，⽣成执⾏计划。这个阶段主要包括解析 SQL、预处理、优化 SQL 执⾏计划；</li>
<li>MySQL 根据相应的执⾏计划完成整个查询；</li>
<li>将查询结果返回给客户端。</li>
</ol>
</li>
<li><h2 id="数据库的三范式是什么？"><a href="#数据库的三范式是什么？" class="headerlink" title="数据库的三范式是什么？"></a><strong>数据库的三范式是什么？</strong></h2></li>
</ul>
<ol>
<li>第⼀范式：强调的是列的原⼦性，即数据库表的每⼀列都是不可分割的原⼦数据项；</li>
<li>第⼆范式：要求实体的属性完全依赖于主关键字。所谓完全依赖是指不能存在仅依赖主关键字⼀部分的属性；</li>
<li>第三范式：任何⾮主属性不依赖于其它⾮主属性。</li>
</ol>
<ul>
<li><h2 id="char-和-varchar-的区别？"><a href="#char-和-varchar-的区别？" class="headerlink" title="char 和 varchar 的区别？"></a><strong>char 和 varchar 的区别？</strong></h2><p>char(n) ：固定⻓度类型，⽐如：订阅 char(10)，当你输⼊”abc”三个字符的时候，它们占的空间还是 10 个字节，<br>其他 7 个是空字节。char 优点：效率⾼；缺点：占⽤空间；适⽤场景：存储密码的 md5 值，固定⻓度的，使⽤<br>char ⾮常合适。<br>varchar(n) ：可变⻓度，存储的值是每个值占⽤的字节再加上⼀个⽤来记录其⻓度的字节的⻓度。<br>所以，从空间上考虑 varcahr ⽐较合适；从效率上考虑 char ⽐较合适，⼆者使⽤需要权衡。</p>
</li>
<li><h2 id="varchar-10-和-varchar-20-的区别？"><a href="#varchar-10-和-varchar-20-的区别？" class="headerlink" title="varchar(10) 和 varchar(20) 的区别？"></a><strong>varchar(10) 和 varchar(20) 的区别？</strong></h2><p>varchar(10) 中 10 的涵义最多存放 10 个字符，varchar(10) 和 varchar(20) 存储 hello 所占空间⼀样，但后者在排序时会消耗更多内存，因为 order by col 采⽤ fixed_length 计算 col ⻓度。</p>
</li>
<li><h2 id="谈谈你对索引的理解？"><a href="#谈谈你对索引的理解？" class="headerlink" title="谈谈你对索引的理解？"></a><strong>谈谈你对索引的理解？</strong></h2></li>
</ul>
<ol>
<li>索引的出现是为了提⾼数据的查询效率，就像书的⽬录⼀样。⼀本500⻚的书，如果你想快速找到其中的某⼀个知识点，在不借助⽬录的情况下，那我估计你可得找⼀会⼉。同样，对于数据库的表⽽⾔，索引其实就是它的“录”。</li>
<li>同样索引也会带来很多负⾯影响：创建索引和维护索引需要耗费时间，这个时间随着数据量的增加⽽增加；索引需要占⽤物理空间，不光是表需要占⽤数据空间，每个索引也需要占⽤物理空间；当对表进⾏增、删、改、的时候索引也要动态维护，这样就降低了数据的维护速度。<br>建⽴索引的原则：<ul>
<li>在最频繁使⽤的、⽤以缩⼩查询范围的字段上建⽴索引；</li>
<li>在频繁使⽤的、需要排序的字段上建⽴索引。<br>不适合建⽴索引的情况：</li>
<li>对于查询中很少涉及的列或者重复值⽐较多的列，不宜建⽴索引；</li>
<li>对于⼀些特殊的数据类型，不宜建⽴索引，⽐如：⽂本字段（text）等。</li>
</ul>
</li>
</ol>
<ul>
<li><h2 id="索引的底层使⽤的是什么数据结构？"><a href="#索引的底层使⽤的是什么数据结构？" class="headerlink" title="索引的底层使⽤的是什么数据结构？"></a><strong>索引的底层使⽤的是什么数据结构？</strong></h2><p>索引的数据结构和具体存储引擎的实现有关,，在MySQL中使⽤较多的索引有 Hash 索引、B+树索引等。⽽我们经常使⽤的 InnoDB 存储引擎的默认索引实现为 B+ 树索引。</p>
</li>
<li><h2 id="谈谈你对-B-树的理解？"><a href="#谈谈你对-B-树的理解？" class="headerlink" title="谈谈你对 B+ 树的理解？"></a><strong>谈谈你对 B+ 树的理解？</strong></h2></li>
<li><p>B+ 树是基于 B 树和叶⼦节点顺序访问指针进⾏实现，它具有 B 树的平衡性，并且通过顺序访问指针来提⾼区<br>间查询的性能。</p>
</li>
<li><p>在 B+ 树中，⼀个节点中的 key 从左到右⾮递减排列，如果某个指针的左右相邻 key 分别是 key i 和 key<br>i+1，且不为 null，则该指针指向节点的所有 key ⼤于等于 key i 且⼩于等于 key i+1。</p>
</li>
<li><p>进⾏查找操作时，⾸先在根节点进⾏⼆分查找，找到⼀个 key 所在的指针，然后递归地在指针所指向的节点<br>进⾏查找。直到查找到叶⼦节点，然后在叶⼦节点上进⾏⼆分查找，找出 key 所对应的 data。</p>
</li>
<li><p>插⼊、删除操作会破坏平衡树的平衡性，因此在插⼊删除操作之后，需要对树进⾏⼀个分裂、合并、旋转等操<br>作来维护平衡性。</p>
</li>
<li><h2 id="为什么-InnoDB-存储引擎选⽤-B-树⽽不是-B-树呢？"><a href="#为什么-InnoDB-存储引擎选⽤-B-树⽽不是-B-树呢？" class="headerlink" title="为什么 InnoDB 存储引擎选⽤ B+ 树⽽不是 B 树呢？"></a><strong>为什么 InnoDB 存储引擎选⽤ B+ 树⽽不是 B 树呢？</strong></h2></li>
</ul>
<p>⽤ B+ 树不⽤ B 树考虑的是 IO 对性能的影响，B 树的每个节点都存储数据，⽽ B+ 树只有叶⼦节点才存储数据，所以查找相同数据量的情况下，B 树的⾼度更⾼，IO 更频繁。数据库索引是存储在磁盘上的，当数据量⼤时，就不能把整个索引全部加载到内存了，只能逐⼀加载每⼀个磁盘⻚（对应索引树的节点）。</p>
<ul>
<li><h2 id="谈谈你对聚簇索引的理解？"><a href="#谈谈你对聚簇索引的理解？" class="headerlink" title="谈谈你对聚簇索引的理解？"></a><strong>谈谈你对聚簇索引的理解？</strong></h2></li>
</ul>
<p>聚簇索引是对磁盘上实际数据重新组织以按指定的⼀个或多个列的值排序的算法。特点是存储数据的顺序和索引顺<br>序⼀致。⼀般情况下主键会默认创建聚簇索引，且⼀张表只允许存在⼀个聚簇索引。<br>聚簇索引和⾮聚簇索引的区别：<br>聚簇索引的叶⼦节点就是数据节点，⽽⾮聚簇索引的叶⼦节点仍然是索引节点，只不过有指向对应数据块的指针。</p>
<ul>
<li><h2 id="谈谈你对哈希索引的理解？"><a href="#谈谈你对哈希索引的理解？" class="headerlink" title="谈谈你对哈希索引的理解？"></a><strong>谈谈你对哈希索引的理解？</strong></h2></li>
</ul>
<p>哈希索引能以 O(1) 时间进⾏查找，但是失去了有序性。⽆法⽤于排序与分组、只⽀持精确查找，⽆法⽤于部分查<br>找和范围查找。<br>InnoDB 存储引擎有⼀个特殊的功能叫“⾃适应哈希索引”，当某个索引值被使⽤的⾮常频繁时，会在 B+ 树索引之上再创建⼀个哈希索引，这样就让 B+Tree 索引具有哈希索引的⼀些优点，⽐如：快速的哈希查找。</p>

    </div>
    
    
    
    
    
    <div id="comment">
        <div id="waline-container"></div>
    </div>
    
    
    
    
        <!-- 样式文件 -->
        <link rel="stylesheet" href="https://unpkg.com/@waline/client@v2/dist/waline.css" />
        <div id="comment">
            <div id="waline-container">
            </div>
        </div>
        

</div>

                        <footer id="footer">
    <div id="footer-wrap">
        <div>
            &copy;
            2022 - 2025 阁下星辰不可及の家
            <span id="footer-icon">
                <i class="fa-solid fa-font-awesome fa-fw"></i>
            </span>
            &commat;阁下星辰不可及
        </div>
        
    </div>
</footer>

                </div>
                
                    <transition name="fade">
                        <div id="preview" ref="preview" v-show="previewShow">
                            <img id="preview-content" ref="previewContent" />
                        </div>
                    </transition>
                    
        </div>
        <script src="/js/main.js"></script>
        
            


<script>
    Waline.init({
        el: "#waline-container",
        serverURL: "https://214stars.vercel.app/",
        commentCount: true,
        pageview: false,
        emoji: "https://unpkg.com/@waline/emojis@1.2.0/weibo,https://unpkg.com/@waline/emojis@1.2.0/alus,https://unpkg.com/@waline/emojis@1.2.0/bilibili,https://unpkg.com/@waline/emojis@1.2.0/qq,https://unpkg.com/@waline/emojis@1.2.0/tieba,https://unpkg.com/@waline/emojis@1.2.0/tw-emoji".split(","),
        meta: "nick,mail,link".split(","),
        requiredMeta: "nick".split(","),
        lang: "zh-CN",
        wordLimit: 0,
        pageSize: "10",
        login: "enable",
        
    });
</script>



                
    </body>

    </html>